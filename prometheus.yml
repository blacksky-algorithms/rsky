global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'blacksky'
    environment: 'production'

scrape_configs:
  # Rust Ingester
  - job_name: 'rust-ingester'
    static_configs:
      - targets: ['ingester:4100']
        labels:
          service: 'ingester'
          type: 'rust'

  # Rust Backfillers
  - job_name: 'rust-backfiller'
    static_configs:
      - targets:
          - 'backfiller1:9090'
          - 'backfiller2:9090'
        labels:
          service: 'backfiller'
          type: 'rust'

  # Rust Indexers
  - job_name: 'rust-indexer'
    static_configs:
      - targets:
          - 'indexer1:9090'
          - 'indexer2:9090'
          - 'indexer3:9090'
          - 'indexer4:9090'
          - 'indexer5:9090'
          - 'indexer6:9090'
        labels:
          service: 'indexer'
          type: 'rust'

  # Prometheus self-monitoring
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
        labels:
          service: 'prometheus'
